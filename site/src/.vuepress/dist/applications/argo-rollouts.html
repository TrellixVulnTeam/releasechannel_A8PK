<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Argo Rollouts | Release Channel</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="For all who believe cornerstone of security and productivity is updated software!">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.adbf60c0.css" as="style"><link rel="preload" href="/assets/js/app.b4202bcc.js" as="script"><link rel="preload" href="/assets/js/2.fbf493ab.js" as="script"><link rel="preload" href="/assets/js/12.cd738dcd.js" as="script"><link rel="preload" href="/assets/js/4.a906aa04.js" as="script"><link rel="prefetch" href="/assets/js/10.18dd6095.js"><link rel="prefetch" href="/assets/js/11.2a0d4bf4.js"><link rel="prefetch" href="/assets/js/13.173ae32f.js"><link rel="prefetch" href="/assets/js/14.3dbb5d02.js"><link rel="prefetch" href="/assets/js/15.57171c4f.js"><link rel="prefetch" href="/assets/js/16.3da95f2c.js"><link rel="prefetch" href="/assets/js/17.5fffa632.js"><link rel="prefetch" href="/assets/js/18.3f2aa660.js"><link rel="prefetch" href="/assets/js/19.85289dec.js"><link rel="prefetch" href="/assets/js/20.91290f79.js"><link rel="prefetch" href="/assets/js/21.5b59656d.js"><link rel="prefetch" href="/assets/js/22.9fc6bb56.js"><link rel="prefetch" href="/assets/js/23.0afab1a9.js"><link rel="prefetch" href="/assets/js/24.a40173d0.js"><link rel="prefetch" href="/assets/js/25.fafed86d.js"><link rel="prefetch" href="/assets/js/26.f718ee29.js"><link rel="prefetch" href="/assets/js/27.a6791ea3.js"><link rel="prefetch" href="/assets/js/28.f2585c6e.js"><link rel="prefetch" href="/assets/js/29.f4057d68.js"><link rel="prefetch" href="/assets/js/3.9448558b.js"><link rel="prefetch" href="/assets/js/30.169fdcea.js"><link rel="prefetch" href="/assets/js/31.a69e80a6.js"><link rel="prefetch" href="/assets/js/32.b48bf3a6.js"><link rel="prefetch" href="/assets/js/5.48317507.js"><link rel="prefetch" href="/assets/js/6.ddfa3990.js"><link rel="prefetch" href="/assets/js/7.576855e1.js"><link rel="prefetch" href="/assets/js/8.1ff1ec0c.js"><link rel="prefetch" href="/assets/js/9.0a90b3b7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.adbf60c0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Release Channel</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/applications/" class="nav-link router-link-active">
  Applications
</a></div><div class="nav-item"><a href="https://github.com/samanamp/releasechannel.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub Source
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/applications/" class="nav-link router-link-active">
  Applications
</a></div><div class="nav-item"><a href="https://github.com/samanamp/releasechannel.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub Source
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/applications/" aria-current="page" class="sidebar-link">About Applications</a></li><li><a href="/applications/argo-rollouts.html" aria-current="page" class="active sidebar-link">Argo Rollouts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v1-0-1" class="sidebar-link">v1.0.1</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v1-0-0" class="sidebar-link">v1.0.0</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v1-0-0-rc1" class="sidebar-link">v1.0.0-rc1</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v0-10-2" class="sidebar-link">v0.10.2</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#stable-chore-update-install-manifests-to-v0-10-2" class="sidebar-link">stable: chore: update install manifests to v0.10.2</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v0-10-1" class="sidebar-link">v0.10.1</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v0-10-0" class="sidebar-link">v0.10.0</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v0-9-3" class="sidebar-link">v0.9.3</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v0-9-2" class="sidebar-link">v0.9.2</a></li><li class="sidebar-sub-header"><a href="/applications/argo-rollouts.html#v0-9-1" class="sidebar-link">v0.9.1</a></li></ul></li><li><a href="/applications/argocd.html" class="sidebar-link">Argocd</a></li><li><a href="/applications/coredns.html" class="sidebar-link">CoreDNS</a></li><li><a href="/applications/envoy.html" class="sidebar-link">Envoy</a></li><li><a href="/applications/etcd.html" class="sidebar-link">etcd</a></li><li><a href="/applications/fluentd.html" class="sidebar-link">Fluentd</a></li><li><a href="/applications/harbor.html" class="sidebar-link">Harbor</a></li><li><a href="/applications/helm.html" class="sidebar-link">Helm</a></li><li><a href="/applications/jaeger.html" class="sidebar-link">Jaeger</a></li><li><a href="/applications/keycloak.html" class="sidebar-link">Keycloak</a></li><li><a href="/applications/kubernetes.html" class="sidebar-link">Kubernetes</a></li><li><a href="/applications/nginx-ingress-controller.html" class="sidebar-link">Nginx Ingress Controller</a></li><li><a href="/applications/open-policy-agent.html" class="sidebar-link">Open Policy Agent</a></li><li><a href="/applications/prometheus.html" class="sidebar-link">Prometheus</a></li><li><a href="/applications/python.html" class="sidebar-link">Python</a></li><li><a href="/applications/rook.html" class="sidebar-link">Rook</a></li><li><a href="/applications/tikv.html" class="sidebar-link">TiKV</a></li><li><a href="/applications/tuf.html" class="sidebar-link">TUF</a></li><li><a href="/applications/vitess.html" class="sidebar-link">Vitess</a></li><li><a href="/applications/vue.html" class="sidebar-link">Vue</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="argo-rollouts"><a href="#argo-rollouts" class="header-anchor">#</a> Argo Rollouts</h1> <div><div data-v-f869d6d8><button data-v-f869d6d8>Subscribe to Updates</button></div></div> <h2 id="v1-0-1"><a href="#v1-0-1" class="header-anchor">#</a> v1.0.1</h2> <p style="font-size:12px;"> 26, May 2021 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v1.0.1" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quickstart</h2> <div class="highlight highlight-source-shell position-relative"><pre>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/download/v1.0.1/install.yaml</pre></div> <h2>Changes since v1.0.1</h2> <h3>Controller</h3> <ul><li>fix: Modify validation to check Analysis args passed through RO spec (<a href="https://github.com/argoproj/argo-rollouts/pull/1215" class="issue-link js-issue-link">#1215</a>)</li> <li>fix: AnalysisRun args could not be resolved from secret (<a href="https://github.com/argoproj/argo-rollouts/pull/1213" class="issue-link js-issue-link">#1213</a>)</li> <li>feat: WebMetric to support string body responses (<a href="https://github.com/argoproj/argo-rollouts/pull/1212" class="issue-link js-issue-link">#1212</a>)</li></ul> <h2 id="v1-0-0"><a href="#v1-0-0" class="header-anchor">#</a> v1.0.0</h2> <p style="font-size:12px;"> 20, May 2021 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v1.0.0" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quickstart</h2> <div class="snippet-clipboard-content position-relative"><pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/download/v1.0.0/install.yaml
</code></pre></div> <h2>Notable Features</h2> <ul><li>New Argo Rollouts UI available in <code>kubectl argo rollouts dashboard</code></li> <li>Ability to reference existing Deployment workloads instead of inlining a PodTemplate at spec.template</li> <li>Richer Prometheus stats and Kubernetes events</li> <li>Support for Ambassador as a canary traffic router</li> <li>Support canarying using Istio DestinationRule subsets</li></ul> <h2>Upgrade Notes</h2> <h3>Installation Manifests</h3> <p>Installation manifests are now attached as GitHub Release artifacts (as opposed to raw files checked into git)<br>
and can be installed with the release download URL. e.g.:</p> <div class="snippet-clipboard-content position-relative"><pre><code>kubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/download/v1.0.0/install.yaml
</code></pre></div> <h3>Argo CD OutOfSync status on Rollout v1.0.0 CRDs:</h3> <p>Argo Rollouts v1.0 now vends apiextensions.k8s.io/v1 CustomResourceDefinitions (previously apiextensions.k8s.io/v1beta1). Kubernetes v1 CRDs no longer supports the preservation of unknown fields in objects, and rejects attempts to set <code>spec.preserveUnknownFields: true</code> (the previous default). In order to support a smooth upgrade from Argo Rollouts v0.10 to v1.0, <code>spec.preserveUnknownFields</code> is explicitly set to <code>false</code> in the manifests, despite <code>false</code> being the default, and only option in v1 CRDs. However this causes diffing tools (such as Argo CD) to report the manifest as OutOfSync (since K8s drops the false field).</p> <p>More information:</p> <ul><li><a href="https://github.com/kubernetes-sigs/controller-tools/issues/476" class="issue-link js-issue-link">kubernetes-sigs/controller-tools#476</a></li> <li><a href="https://github.com/argoproj/argo-rollouts/pull/1069" class="issue-link js-issue-link">#1069</a></li></ul> <p>To avoid the Argo CD OutOfSync conditions, you can remove <code>spec.preserveUnknownFields</code> from the manifests<br>
entirely <em>after upgrading to v1.0</em>.</p> <p>Alternatively, you can instruct Argo CD to ignore differences using ignoreDifferences in the Application spec:</p> <div class="highlight highlight-source-yaml position-relative"><pre><span class="pl-ent">spec</span>:
  <span class="pl-ent">ignoreDifferences</span>:
  - <span class="pl-ent">group</span>: <span class="pl-s">apiextensions.k8s.io</span>
    <span class="pl-ent">kind</span>: <span class="pl-s">CustomResourceDefinition</span>
    <span class="pl-ent">jsonPointers</span>:
    - <span class="pl-s">/spec/preserveUnknownFields</span></pre></div> <h3>Deprecation of <code>kubectl argo rollouts promote --skip-current-step</code> flag</h3> <p>The promote flag <code>--skip-current-step</code> which skips the current running canary step has been deprecated and will be removed in a future release. Its logic to skipping the current step has been merged with the existing command:</p> <div class="highlight highlight-source-shell position-relative"><pre>kubectl argo rollouts promote ROLLOUT</pre></div> <p>The <code>promote ROLLOUT</code> command can now be used to handle both the case where the rollout needs to be unpaused, as well as to skip the currently running canary step (e.g. an analysis/experiment/pause step).</p> <h2>Changes since v0.10</h2> <h3>Controller</h3> <ul><li>feat: support reference model for workloads (<a href="https://github.com/argoproj/argo-rollouts/issues/676" class="issue-link js-issue-link">#676</a>) (<a href="https://github.com/argoproj/argo-rollouts/pull/1072" class="issue-link js-issue-link">#1072</a>)</li> <li>feat: Implement Ambassador to be used as traffic router for canary deployments (<a href="https://github.com/argoproj/argo-rollouts/pull/1025" class="issue-link js-issue-link">#1025</a>)</li> <li>feat: support canarying using Istio DestinationRule subsets (<a href="https://github.com/argoproj/argo-rollouts/pull/985" class="issue-link js-issue-link">#985</a>)</li> <li>feat: istio virtualservice and rollout in different namespaces</li> <li>feat: add ability to verify canary weights before advancing steps (<a href="https://github.com/argoproj/argo-rollouts/pull/957" class="issue-link js-issue-link">#957</a>)</li> <li>feat: support scaleDownDelaySeconds in canary w/ traffic routing (<a href="https://github.com/argoproj/argo-rollouts/pull/1056" class="issue-link js-issue-link">#1056</a>)</li> <li>feat: Add ability to restart maxUnavailable pods to BlueGreen strategy (<a href="https://github.com/argoproj/argo-rollouts/pull/937" class="issue-link js-issue-link">#937</a>)</li> <li>feat(controller): Add support for ephemeral metadata on BlueGreen rollouts. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/973" class="issue-link js-issue-link">#973</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/974" class="issue-link js-issue-link">#974</a>)</li> <li>feat: Allow user to handle NaN result in Analysis (<a href="https://github.com/argoproj/argo-rollouts/pull/977" class="issue-link js-issue-link">#977</a>)</li> <li>feat: Wait for canary RS to have ready replicas before shifting labels (<a href="https://github.com/argoproj/argo-rollouts/pull/1022" class="issue-link js-issue-link">#1022</a>)</li> <li>feat: Create RolloutPaused condition (<a href="https://github.com/argoproj/argo-rollouts/pull/1054" class="issue-link js-issue-link">#1054</a>)</li> <li>feat: Add RolloutCompleted condition (<a href="https://github.com/argoproj/argo-rollouts/pull/1074" class="issue-link js-issue-link">#1074</a>)</li> <li>feat: add print version flag to rollouts-controller</li> <li>feat: calculate rollout phase &amp; message controller side</li> <li>fix: Fixes the regression of dropping resources from argo-rollouts crds. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/1043" class="issue-link js-issue-link">#1043</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/1044" class="issue-link js-issue-link">#1044</a>)</li> <li>fix: Set Canary Strategy default maxUnavailable to 25% (<a href="https://github.com/argoproj/argo-rollouts/pull/981" class="issue-link js-issue-link">#981</a>)</li> <li>fix: blue-green rollouts could pause prematurely during prePromotionAnalysis (<a href="https://github.com/argoproj/argo-rollouts/pull/1007" class="issue-link js-issue-link">#1007</a>)</li> <li>fix: Clear ProgressDeadlineExceeded Condition in paused BlueGreen Rollout (<a href="https://github.com/argoproj/argo-rollouts/pull/1002" class="issue-link js-issue-link">#1002</a>)</li> <li>fix: analysis template arguments validate (<a href="https://github.com/argoproj/argo-rollouts/pull/1038" class="issue-link js-issue-link">#1038</a>)</li> <li>fix: calculate scale down count. (<a href="https://github.com/argoproj/argo-rollouts/pull/1047" class="issue-link js-issue-link">#1047</a>)</li> <li>fix: verify analysis arguments name with those in the rollout (<a href="https://github.com/argoproj/argo-rollouts/pull/1071" class="issue-link js-issue-link">#1071</a>)</li> <li>fix: rollout status always in progressing if analysis fails (<a href="https://github.com/argoproj/argo-rollouts/pull/1099" class="issue-link js-issue-link">#1099</a>)</li> <li>fix: Add edge case handling to traffic routing (<a href="https://github.com/argoproj/argo-rollouts/pull/1190" class="issue-link js-issue-link">#1190</a>)</li> <li>fix: unhandled error patchVirtualService (<a href="https://github.com/argoproj/argo-rollouts/pull/1168" class="issue-link js-issue-link">#1168</a>)</li> <li>fix: handling error on f.close (<a href="https://github.com/argoproj/argo-rollouts/pull/1167" class="issue-link js-issue-link">#1167</a>)</li> <li>fix: rollouts in middle of restart should be considered Progressing</li></ul> <h3>Analysis</h3> <ul><li>feat: metric fields can be parameterized by analysis arguments (<a href="https://github.com/argoproj/argo-rollouts/pull/901" class="issue-link js-issue-link">#901</a>)</li> <li>feat: support a custom base URL for the new relic provider (<a href="https://github.com/argoproj/argo-rollouts/pull/1053" class="issue-link js-issue-link">#1053</a>)</li> <li>feat: Allow Datadog API and APP keys to be consumed from env vars (<a href="https://github.com/argoproj/argo-rollouts/pull/1073" class="issue-link js-issue-link">#1073</a>)</li> <li>fix: Improve validation for AnalysisTemplates referenced by RO (<a href="https://github.com/argoproj/argo-rollouts/pull/1094" class="issue-link js-issue-link">#1094</a>)</li> <li>fix: wavefront queries would return no datapoints. surface evaluate errors</li> <li>fix: metrics which errored did not retry at error interval</li> <li>fix: Improve and refactor validation for AnalysisTemplates</li></ul> <h3>Plugin</h3> <ul><li>feat: Argo Rollouts api-server and UI (<a href="https://github.com/argoproj/argo-rollouts/pull/1015" class="issue-link js-issue-link">#1015</a>)</li> <li>feat: Implement rollout status command. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/596" class="issue-link js-issue-link">#596</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/1001" class="issue-link js-issue-link">#1001</a>)</li> <li>feat: lint supporting rollout in multiple doc</li> <li>fix: get rollout always return not found except default namespace (<a href="https://github.com/argoproj/argo-rollouts/pull/961" class="issue-link js-issue-link">#961</a>)</li> <li>fix: create command not support namespace in yaml file (<a href="https://github.com/argoproj/argo-rollouts/pull/962" class="issue-link js-issue-link">#962</a>)</li> <li>fix: kubectl argo create panic: runtime error: invalid memory address or nil pointer dereference</li></ul> <h3>Misc</h3> <ul><li>chore: publish plugin image automatically. migrate to quay.io (<a href="https://github.com/argoproj/argo-rollouts/pull/1102" class="issue-link js-issue-link">#1102</a>)</li> <li>feat: support ARM builds, remove unused components in Dockerfile (<a href="https://github.com/argoproj/argo-rollouts/pull/889" class="issue-link js-issue-link">#889</a>)</li> <li>chore: update k8s dependencies to v1.20. improve logging (<a href="https://github.com/argoproj/argo-rollouts/pull/994" class="issue-link js-issue-link">#994</a>)</li> <li>fix: add informational exposed ports to deployment (<a href="https://github.com/argoproj/argo-rollouts/pull/1066" class="issue-link js-issue-link">#1066</a>)</li> <li>chore: Outsource reusable UI components to argo-ux npm package</li> <li>fix: use fixed size int32</li></ul> <h2 id="v1-0-0-rc1"><a href="#v1-0-0-rc1" class="header-anchor">#</a> v1.0.0-rc1</h2> <p style="font-size:12px;"> 05, May 2021 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v1.0.0-rc1" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quickstart</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/download/v1.0.0-rc1/install.yaml
</code></pre> <h2>Notable Features</h2> <ul><li><a href="https://argoproj.github.io/argo-rollouts/dashboard/" rel="nofollow">New Argo Rollouts UI available</a> in <code>kubectl argo rollouts dashboard</code></li> <li><a href="https://argoproj.github.io/argo-rollouts/migrating/#reference-deployment-from-rollout" rel="nofollow">Ability to reference existing Deployment workloads</a> instead of inlining a PodTemplate at spec.template</li> <li><a href="https://argoproj.github.io/argo-rollouts/features/traffic-management/ambassador/" rel="nofollow">Support for Ambassador as a canary traffic router</a></li> <li><a href="https://argoproj.github.io/argo-rollouts/features/traffic-management/istio/#subset-level-traffic-splitting" rel="nofollow">Support canarying using Istio DestinationRule subsets</a></li></ul> <h2>Upgrade Notes</h2> <h3>Installation Manifests</h3> <p>Installation manifests are now attached as GitHub Release artifacts (as opposed to raw files checked into git)<br>
and can be installed with the release download URL. e.g.:</p> <pre><code>kubectl apply -n argo-rollouts -f https://github.com/argoproj/argo-rollouts/releases/download/v1.0.0-rc1/install.yaml
</code></pre> <h3>Argo CD OutOfSync status on Rollout v1.0.0 CRDs:</h3> <p>Argo Rollouts v1.0 now vends apiextensions.k8s.io/v1 CustomResourceDefinitions (previously apiextensions.k8s.io/v1beta1).<br>
Kubernetes v1 CRDs no longer supports the preservation of unknown fields in objects, and rejects<br>
attempts to set <code>spec.preserveUnknownFields: true</code>. In order to support a smooth upgrade from<br>
Argo Rollouts v0.10 to v1.0, <code>spec.preserveUnknownFields</code> is explicitly set to <code>false</code> in the manifests,<br>
despite <code>false</code> being the default, and only option in v1 CRDs. However this causes diffing tools<br>
(such as Argo CD) to report the manifest as OutOfSync (since K8s drops the false field).</p> <p>More information:</p> <ul><li><a href="https://github.com/kubernetes-sigs/controller-tools/issues/476" class="issue-link js-issue-link">kubernetes-sigs/controller-tools#476</a></li> <li><a href="https://github.com/argoproj/argo-rollouts/pull/1069" class="issue-link js-issue-link">#1069</a></li></ul> <p>To avoid the Argo CD OutOfSync conditions, you can remove <code>spec.preserveUnknownFields</code> from the manifests<br>
entirely <em>after upgrading from v0.10</em>.</p> <p>Alternatively, you can instruct Argo CD to ignore differences using <code>ignoreDifferences</code> in the Application spec:</p> <div class="highlight highlight-source-yaml"><pre><span class="pl-ent">spec</span>:
  <span class="pl-ent">ignoreDifferences</span>:
  - <span class="pl-ent">group</span>: <span class="pl-s">apiextensions.k8s.io</span>
    <span class="pl-ent">kind</span>: <span class="pl-s">CustomResourceDefinition</span>
    <span class="pl-ent">jsonPointers</span>:
    - <span class="pl-s">/spec/preserveUnknownFields</span></pre></div> <h2>Changes since v0.10</h2> <h3>Controller</h3> <ul><li>feat: support reference model for workloads (<a href="https://github.com/argoproj/argo-rollouts/issues/676" class="issue-link js-issue-link">#676</a>) (<a href="https://github.com/argoproj/argo-rollouts/pull/1072" class="issue-link js-issue-link">#1072</a>)</li> <li>feat: Implement Ambassador to be used as traffic router for canary deployments (<a href="https://github.com/argoproj/argo-rollouts/pull/1025" class="issue-link js-issue-link">#1025</a>)</li> <li>feat: support canarying using Istio DestinationRule subsets (<a href="https://github.com/argoproj/argo-rollouts/pull/985" class="issue-link js-issue-link">#985</a>)</li> <li>feat: istio virtualservice and rollout in different namespaces</li> <li>feat: add ability to verify canary weights before advancing steps (<a href="https://github.com/argoproj/argo-rollouts/pull/957" class="issue-link js-issue-link">#957</a>)</li> <li>feat: support scaleDownDelaySeconds in canary w/ traffic routing (<a href="https://github.com/argoproj/argo-rollouts/pull/1056" class="issue-link js-issue-link">#1056</a>)</li> <li>feat: Add ability to restart maxUnavailable pods to BlueGreen strategy (<a href="https://github.com/argoproj/argo-rollouts/pull/937" class="issue-link js-issue-link">#937</a>)</li> <li>feat(controller): Add support for ephemeral metadata on BlueGreen rollouts. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/973" class="issue-link js-issue-link">#973</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/974" class="issue-link js-issue-link">#974</a>)</li> <li>feat: Allow user to handle NaN result in Analysis (<a href="https://github.com/argoproj/argo-rollouts/pull/977" class="issue-link js-issue-link">#977</a>)</li> <li>feat: Wait for canary RS to have ready replicas before shifting labels (<a href="https://github.com/argoproj/argo-rollouts/pull/1022" class="issue-link js-issue-link">#1022</a>)</li> <li>feat: Create RolloutPaused condition (<a href="https://github.com/argoproj/argo-rollouts/pull/1054" class="issue-link js-issue-link">#1054</a>)</li> <li>feat: Add RolloutCompleted condition (<a href="https://github.com/argoproj/argo-rollouts/pull/1074" class="issue-link js-issue-link">#1074</a>)</li> <li>fix: Fixes the regression of dropping resources from argo-rollouts crds. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/1043" class="issue-link js-issue-link">#1043</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/1044" class="issue-link js-issue-link">#1044</a>)</li> <li>fix: Set Canary Strategy default maxUnavailable to 25% (<a href="https://github.com/argoproj/argo-rollouts/pull/981" class="issue-link js-issue-link">#981</a>)</li> <li>fix: blue-green rollouts could pause prematurely during prePromotionAnalysis (<a href="https://github.com/argoproj/argo-rollouts/pull/1007" class="issue-link js-issue-link">#1007</a>)</li> <li>fix: Clear ProgressDeadlineExceeded Condition in paused BlueGreen Rollout (<a href="https://github.com/argoproj/argo-rollouts/pull/1002" class="issue-link js-issue-link">#1002</a>)</li> <li>fix: analysis template arguments validate (<a href="https://github.com/argoproj/argo-rollouts/pull/1038" class="issue-link js-issue-link">#1038</a>)</li> <li>fix: calculate scale down count. (<a href="https://github.com/argoproj/argo-rollouts/pull/1047" class="issue-link js-issue-link">#1047</a>)</li> <li>fix: verify analysis arguments name with those in the rollout (<a href="https://github.com/argoproj/argo-rollouts/pull/1071" class="issue-link js-issue-link">#1071</a>)</li> <li>fix: rollout status always in progressing if analysis fails (<a href="https://github.com/argoproj/argo-rollouts/pull/1099" class="issue-link js-issue-link">#1099</a>)</li></ul> <h3>Analysis</h3> <ul><li>feat: metric fields can be parameterized by analysis arguments (<a href="https://github.com/argoproj/argo-rollouts/pull/901" class="issue-link js-issue-link">#901</a>)</li> <li>feat: support a custom base URL for the new relic provider (<a href="https://github.com/argoproj/argo-rollouts/pull/1053" class="issue-link js-issue-link">#1053</a>)</li> <li>feat: Allow Datadog API and APP keys to be consumed from env vars (<a href="https://github.com/argoproj/argo-rollouts/pull/1073" class="issue-link js-issue-link">#1073</a>)</li> <li>fix: Improve validation for AnalysisTemplates referenced by RO (<a href="https://github.com/argoproj/argo-rollouts/pull/1094" class="issue-link js-issue-link">#1094</a>)</li> <li>fix: wavefront queries would return no datapoints. surface evaluate errors</li> <li>fix: metrics which errored did not retry at error interval</li></ul> <h3>Plugin</h3> <ul><li>feat: Argo Rollouts api-server and UI (<a href="https://github.com/argoproj/argo-rollouts/pull/1015" class="issue-link js-issue-link">#1015</a>)</li> <li>feat: Implement rollout status command. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/596" class="issue-link js-issue-link">#596</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/1001" class="issue-link js-issue-link">#1001</a>)</li> <li>fix: get rollout always return not found except default namespace (<a href="https://github.com/argoproj/argo-rollouts/pull/961" class="issue-link js-issue-link">#961</a>)</li> <li>fix: create command not support namespace in yaml file (<a href="https://github.com/argoproj/argo-rollouts/pull/962" class="issue-link js-issue-link">#962</a>)</li> <li>fix: kubectl argo create panic: runtime error: invalid memory address or nil pointer dereference</li></ul> <h3>Misc</h3> <ul><li>chore: publish plugin image automatically. migrate to quay.io (<a href="https://github.com/argoproj/argo-rollouts/pull/1102" class="issue-link js-issue-link">#1102</a>)</li> <li>feat: support ARM builds, remove unused components in Dockerfile (<a href="https://github.com/argoproj/argo-rollouts/pull/889" class="issue-link js-issue-link">#889</a>)</li> <li>chore: update k8s dependencies to v1.20. improve logging (<a href="https://github.com/argoproj/argo-rollouts/pull/994" class="issue-link js-issue-link">#994</a>)</li> <li>fix: add informational exposed ports to deployment (<a href="https://github.com/argoproj/argo-rollouts/pull/1066" class="issue-link js-issue-link">#1066</a>)</li></ul> <h2 id="v0-10-2"><a href="#v0-10-2" class="header-anchor">#</a> v0.10.2</h2> <p style="font-size:12px;"> 17, Dec 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v0.10.2" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quick Start</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://raw.githubusercontent.com/argoproj/argo-rollouts/v0.10.2/manifests/install.yaml
</code></pre> <h2>Changes since v0.10.1</h2> <h3>Controller</h3> <ul><li>fix: switch pod restart to use evict API to honor PDBs</li> <li>fix: ephemeral metadata injection was dropping metadata injected by mutating webhooks</li> <li>fix: requiredForCompletion did not work for an experiment started by a rollout</li> <li>fix: Add missing RoleBinding file to namespace installation</li></ul> <h2 id="stable-chore-update-install-manifests-to-v0-10-2"><a href="#stable-chore-update-install-manifests-to-v0-10-2" class="header-anchor">#</a> stable: chore: update install manifests to v0.10.2</h2> <p style="font-size:12px;"> 17, Dec 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/stable" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <p>Signed-off-by: Jesse Suen <a href="mailto:jesse_suen@intuit.com">jesse_suen@intuit.com</a></p> <h2 id="v0-10-1"><a href="#v0-10-1" class="header-anchor">#</a> v0.10.1</h2> <p style="font-size:12px;"> 05, Dec 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v0.10.1" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h1>v0.10.1</h1> <h2>Quick Start</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://raw.githubusercontent.com/argoproj/argo-rollouts/v0.10.1/manifests/install.yaml
</code></pre> <h2>Changes since v0.10.0</h2> <h3>Controller</h3> <ul><li>fix: restart was restarting too many pods when available &gt; spec.replicas (<a href="https://github.com/argoproj/argo-rollouts/pull/856" class="issue-link js-issue-link">#856</a>)</li> <li>fix: Correct Istio VirtualService immediately when not in desired state (<a href="https://github.com/argoproj/argo-rollouts/pull/874" class="issue-link js-issue-link">#874</a>)</li></ul> <h3>Plugin</h3> <ul><li>fix: plugin incorrectly treated v0.9 rollout as v0.10 when it had numeric observedGeneration (<a href="https://github.com/argoproj/argo-rollouts/pull/875" class="issue-link js-issue-link">#875</a>)</li></ul> <h2 id="v0-10-0"><a href="#v0-10-0" class="header-anchor">#</a> v0.10.0</h2> <p style="font-size:12px;"> 14, Nov 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v0.10.0" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h1>v0.10.0</h1> <h2>Quick Start</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://raw.githubusercontent.com/argoproj/argo-rollouts/v0.10.0/manifests/install.yaml
</code></pre> <h2>Notable Features</h2> <ul><li>Ability to set canary vs. stable ephemeral metadata on rollout Pods during an update</li> <li>Support new metric providers: New Relic, Datadog</li> <li>Ability to control canary scale during an update</li> <li>Ability to restart up to maxUnavailable pods at a time for a canary rollout</li> <li>Ability to self reference rollout metadata as arguments to analysis</li> <li>Ability to fully promote blue-green and canary rollouts (skipping steps, analysis, pauses)</li> <li>kubectl-argo-rollouts plugin command to lint rollout</li> <li>kubectl-argo-rollouts plugin command to undo a rollout (same as kubectl rollout undo)</li></ul> <h2>Upgrade Notes</h2> <p>Rollouts v0.10 has switched to using Kubernetes <a href="https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/#status-subresource" rel="nofollow">CRD Status Subresources</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/789">PR #789</a>). This feature allows the rollout controller to record the numeric <code>metadata.generation</code> into <code>status.observedGeneration</code> which provides a reliable indicator of a Rollout who's spec has (or has not yet) been observed by the controller (for example if the argo-rollouts controller was down or delayed).</p> <p>A consequence of this change, is that the v0.10 rollout controller should be used with the v0.10 kubectl-argo-rollouts plugin in order to perform actions such as abort, pause, promote. Similarly, Argo CD v1.8 should be with the v0.10 rollout controller when performing those same actions. Both kubectl-argo-rollouts plugin v0.10 and Argo CD v1.8 are backwards compatible with v0.9 rollouts controller.</p> <h2>Changes since v0.9</h2> <h3>Controller</h3> <ul><li>feat: set canary/stable ephemeral metadata to pods during updates (<a href="https://github.com/argoproj/argo-rollouts/pull/770" class="issue-link js-issue-link">#770</a>)</li> <li>feat: add support for valueFrom in analysis arguments. (<a href="https://github.com/argoproj/argo-rollouts/pull/797" class="issue-link js-issue-link">#797</a>)</li> <li>feat: Adding rollout_info_replicas_desired metric. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/748" class="issue-link js-issue-link">#748</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/749" class="issue-link js-issue-link">#749</a>)</li> <li>feat: restart pods up to maxUnavailable at a time</li> <li>feat: add full rollout promotion (skip analysis, pause, steps)</li> <li>feat: use CRD status subresource (<a href="https://github.com/argoproj/argo-rollouts/pull/789" class="issue-link js-issue-link">#789</a>)</li> <li>feat: Allow setting canary weight without side-effects. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/556" class="issue-link js-issue-link">#556</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/677" class="issue-link js-issue-link">#677</a>)</li> <li>fix: namespaced scoped controller support (<a href="https://github.com/argoproj/argo-rollouts/pull/818" class="issue-link js-issue-link">#818</a>)</li> <li>fix: fetch secrets on-demand to fix controller boot for large clusters (<a href="https://github.com/argoproj/argo-rollouts/pull/829" class="issue-link js-issue-link">#829</a>)</li></ul> <h3>Analysis</h3> <ul><li>feat: Add New Relic metricprovider (<a href="https://github.com/argoproj/argo-rollouts/pull/772" class="issue-link js-issue-link">#772</a>)</li> <li>feat: Add Datadog metric provider. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/702" class="issue-link js-issue-link">#702</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/705" class="issue-link js-issue-link">#705</a>)</li></ul> <h3>Plugin</h3> <ul><li>feat: Implement kubectl argo rollouts lint</li> <li>feat: Add undo command in kubectl plugin. Fixes <a href="https://github.com/argoproj/argo-rollouts/issues/575" class="issue-link js-issue-link">#575</a> (<a href="https://github.com/argoproj/argo-rollouts/pull/812" class="issue-link js-issue-link">#812</a>)</li> <li>fix: kubectl plugin should use dynamic client</li></ul> <h3>Misc</h3> <ul><li>fix: rollout kustomize transform analysis ref should use templateName instead of name (<a href="https://github.com/argoproj/argo-rollouts/pull/809" class="issue-link js-issue-link">#809</a>)</li> <li>fix: add missing Service kustomize name reference in trafficRouting/alb/rootService (<a href="https://github.com/argoproj/argo-rollouts/pull/699" class="issue-link js-issue-link">#699</a>)</li></ul> <h2 id="v0-9-3"><a href="#v0-9-3" class="header-anchor">#</a> v0.9.3</h2> <p style="font-size:12px;"> 05, Nov 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v0.9.3" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quick Start</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://raw.githubusercontent.com/argoproj/argo-rollouts/v0.9.3/manifests/install.yaml
</code></pre> <h2>Changes since v0.9.2</h2> <h2>Controller</h2> <ul><li>fix: scaleDownDelayRevisionLimit was off by one (<a href="https://github.com/argoproj/argo-rollouts/pull/816" class="issue-link js-issue-link">#816</a>)</li> <li>fix: background analysis refs were not verified. requeue InvalidSpec rollouts (<a href="https://github.com/argoproj/argo-rollouts/pull/814" class="issue-link js-issue-link">#814</a>)</li> <li>fix(controller): fix unhandled panic from malformed rollout (<a href="https://github.com/argoproj/argo-rollouts/pull/801" class="issue-link js-issue-link">#801</a>)</li> <li>fix(controller): validation should not consider privileged security context (<a href="https://github.com/argoproj/argo-rollouts/pull/802" class="issue-link js-issue-link">#802</a>)</li></ul> <h2 id="v0-9-2"><a href="#v0-9-2" class="header-anchor">#</a> v0.9.2</h2> <p style="font-size:12px;"> 17, Oct 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v0.9.2" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quick Start</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://raw.githubusercontent.com/argoproj/argo-rollouts/v0.9.2/manifests/install.yaml
</code></pre> <h2>Changes since v0.9.1</h2> <h2>Controller</h2> <ul><li>fix(controller): controller did not honor maxUnavailable during rollback (<a href="https://github.com/argoproj/argo-rollouts/pull/786" class="issue-link js-issue-link">#786</a>)</li> <li>fix(controller): blue-green with analysis was broken (<a href="https://github.com/argoproj/argo-rollouts/pull/780" class="issue-link js-issue-link">#780</a>)</li> <li>fix(controller): blue-green fast-tracked rollbacks would still start analysis templates</li> <li>fix(controller): prePromotionAnalysis with previewReplicaCount would pause indefinitely w/o running analysis</li> <li>fix(controller): calculate available replicas from active ReplicaSet (<a href="https://github.com/argoproj/argo-rollouts/pull/757" class="issue-link js-issue-link">#757</a>)</li></ul> <h2>Plugin</h2> <ul><li>feat(plugin): indicate the stable ReplicaSet for blue-green rollouts in plugin</li> <li>feat(plugin): plugin now surfaces InvalidSpec errors and failed analysisrun messages (<a href="https://github.com/argoproj/argo-rollouts/pull/729" class="issue-link js-issue-link">#729</a>)</li> <li>fix(plugin): bluegreen scaleDownDelay was delaying Healthy status. Present errors in message field (<a href="https://github.com/argoproj/argo-rollouts/pull/768" class="issue-link js-issue-link">#768</a>)</li></ul> <h2 id="v0-9-1"><a href="#v0-9-1" class="header-anchor">#</a> v0.9.1</h2> <p style="font-size:12px;"> 29, Sep 2020 
<a href="https://github.com/argoproj/argo-rollouts/releases/tag/v0.9.1" target="_blank"> 
Source </a><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></p> <h2>Quick Start</h2> <pre><code>kubectl create namespace argo-rollouts
kubectl apply -n argo-rollouts -f https://raw.githubusercontent.com/argoproj/argo-rollouts/v0.9.1/manifests/install.yaml
</code></pre> <h2>Changes since v0.9.0</h2> <h3>General</h3> <ul><li>feat: writeback rollout updates to informer to prevent stale data (<a href="https://github.com/argoproj/argo-rollouts/pull/726" class="issue-link js-issue-link">#726</a>)</li> <li>fix: unavailable stable RS was not scaled down to make room for canary (<a href="https://github.com/argoproj/argo-rollouts/pull/739" class="issue-link js-issue-link">#739</a>)</li> <li>fix: make controllers tolerant to spec marshalling errors (<a href="https://github.com/argoproj/argo-rollouts/pull/666" class="issue-link js-issue-link">#666</a>)</li> <li>perf: Create IstioVirtualServiceLister (<a href="https://github.com/argoproj/argo-rollouts/pull/656" class="issue-link js-issue-link">#656</a>)</li> <li>fix: add missing log message when a controller's syncHandler returns error (<a href="https://github.com/argoproj/argo-rollouts/pull/658" class="issue-link js-issue-link">#658</a>)</li> <li>fix: support azure auth (<a href="https://github.com/argoproj/argo-rollouts/pull/664" class="issue-link js-issue-link">#664</a>)</li></ul> <h3>Analysis</h3> <ul><li>feat: web metrics preserve data types, allow insecure tls, and make jsonPath optional (<a href="https://github.com/argoproj/argo-rollouts/pull/731" class="issue-link js-issue-link">#731</a>)</li> <li>fix: analysis controller could get into a hotloop with terminated run (<a href="https://github.com/argoproj/argo-rollouts/pull/724" class="issue-link js-issue-link">#724</a>)</li> <li>fix: do not create analysisruns with initial deploy (<a href="https://github.com/argoproj/argo-rollouts/pull/722" class="issue-link js-issue-link">#722</a>)</li> <li>fix: add Failed AnalysisRun phase status to analysis_run_metric_phase and analysis_run_phase metrics. (<a href="https://github.com/argoproj/argo-rollouts/pull/618" class="issue-link js-issue-link">#618</a>)</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b4202bcc.js" defer></script><script src="/assets/js/2.fbf493ab.js" defer></script><script src="/assets/js/12.cd738dcd.js" defer></script><script src="/assets/js/4.a906aa04.js" defer></script>
  </body>
</html>
